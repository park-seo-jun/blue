/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Nanum+Gothic&display=swap');

body {
    margin: 0;
    font-family: 'Nanum Gothic', sans-serif;
    color: white;
    background-color: #000; /* 전체 배경은 검은색 */
    overflow: hidden;
}

/* --- 인트로 화면 스타일 (기존과 거의 동일) --- */
[id="intro-screen"] {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    text-align: center;
    transition: opacity 1s;
    background: radial-gradient(ellipse at center, #1a234a 0%, #00001a 100%);
}
#game-title {
    font-family: 'Cinzel', serif;
    font-size: 5rem;
    color: #99ddff;
    text-shadow: 0 0 7px #99ddff, 0 0 42px #00aaff;
    animation: flicker 1.5s infinite alternate;
}
@keyframes flicker { to { text-shadow: 0 0 7px #99ddff, 0 0 60px #00aaff; } }
#start-button {
    font-family: 'Cinzel', serif;
    font-size: 1.5rem;
    color: #99ddff;
    background-color: transparent;
    border: 2px solid #99ddff;
    padding: 15px 30px;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px #00aaff;
}
#start-button:hover {
    background-color: #99ddff;
    color: #00001a;
    box-shadow: 0 0 20px #99ddff;
}
.hidden {
    display: none !important;
}

/* --- 새로운 게임 화면 스타일 --- */
#game-container {
    width: 100vw;
    height: 100vh;
    position: relative; /* 자식 요소들의 기준점 */
}

#game-world {
    width: 100%;
    height: 100%;
    background-color: #556B2F; /* 진한 연두색 배경 */
    position: relative; /* 플레이어와 배경 레이어의 기준점 */
    overflow: hidden; /* 화면 밖으로 나가는 배경은 숨김 */
}

#background-layer {
    position: absolute;
    width: 3000px; /* 배경을 매우 크게 만들어 움직일 공간 확보 */
    height: 3000px;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

#player {
    position: absolute;
    width: 30px;
    height: 30px;
    /* 파란색 그라데이션 배경 */
    background-image: linear-gradient(to bottom right, #3a7bd5, #00d2ff);
    border: 2px solid #eef;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); /* 정확한 중앙 정렬 */
    z-index: 10;
    box-shadow: 0 0 8px rgba(0, 210, 255, 0.7); /* 약간의 빛나는 효과 */
}

/* --- UI 레이어 스타일 --- */
#ui-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* UI가 게임 조작을 방해하지 않도록 함 */
}

#status-window {
    position: absolute;
    top: 20px;
    left: 20px;
    background-color: rgba(0, 0, 0, 0.6);
    border: 1px solid #99ddff;
    border-radius: 8px;
    padding: 10px 15px;
    color: #ddeeff;
    pointer-events: all; /* 창 자체는 클릭 가능하도록 */
}
#status-window h3 {
    margin: 0 0 10px 0;
    color: #99ddff;
    border-bottom: 1px solid #66aaff;
    padding-bottom: 5px;
    font-size: 1rem;
}
#status-window p {
    margin: 5px 0;
    font-size: 0.9rem;
}



/* --- 잡초 스타일 --- */
.grass {
    position: absolute;
    font-size: 25px; /* 크기 줄임 */
    font-weight: bold;
    color: #6B8E23; /* 배경보다 약간 밝은 녹색 */
    user-select: none; /* 드래그 선택 방지 */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.4); /* 입체감 */
}

/* --- 마을 집 스타일 (개선) --- */
.house {
    position: absolute;
    z-index: 5; /* 플레이어(10)보다 낮고, 잡초보다 높게 */
}

.house .wall {
    width: 150px;  /* 크기 증가 */
    height: 120px; /* 크기 증가 */
    background: linear-gradient(to bottom, #D2B48C, #A0522D); /* 나무 질감 */
    border: 4px solid #5C4033; /* 짙은 갈색 테두리 */
    border-radius: 5px;
    position: relative; /* 자식 요소(문, 창문)의 기준점 */
    box-shadow: 5px 5px 10px rgba(0,0,0,0.5); /* 입체감을 위한 그림자 */
}

.house .roof {
    width: 180px; /* 지붕 너비 증가 */
    height: 80px; /* 지붕 높이 */
    background: #8B0000; /* 어두운 빨간색 */
    position: absolute;
    top: -70px; /* 벽 위로 이동 */
    left: -15px;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
    border: 4px solid #5C4033;
    clip-path: polygon(0% 100%, 0% 20%, 50% 0%, 100% 20%, 100% 100%); /* 지붕 모양 */
}

.house .door {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 60px;
    background-color: #654321;
    border: 2px solid #432109;
    border-radius: 5px 5px 0 0;
}

.house .door::after { /* 문고리 */
    content: '';
    position: absolute;
    top: 50%;
    right: 5px;
    width: 5px;
    height: 5px;
    background-color: #FFD700; /* 금색 */
    border-radius: 50%;
}

.house .window {
    position: absolute;
    top: 20px;
    left: 20px;
    width: 35px;
    height: 35px;
    background-color: #87CEEB; /* 하늘색 */
    border: 2px solid #432109;
}

.house .window.right {
    left: auto;
    right: 20px;
}

.house .window::before, .house .window::after { /* 창살 */
    content: '';
    position: absolute;
    background-color: #432109;
}
.house .window::before { /* 가로 창살 */
    top: 50%;
    left: 0;
    width: 100%;
    height: 2px;
    transform: translateY(-50%);
}
.house .window::after { /* 세로 창살 */
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    transform: translateX(-50%);
}

/* --- NPC 스타일 --- */
.npc {
    position: absolute;
    width: 28px;
    height: 28px;
    background-color: #DAA520; /* GoldenRod - 기본 색상, JS에서 덮어씀 */
    border: 2px solid #614b0f;
    /* border-radius: 50%; */ /* 원형 모양 제거 -> 사각형 */
    z-index: 6; /* 집(5)보다 높고, 플레이어(10)보다 낮게 */
    box-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    transition: transform 0.1s linear; /* 부드러운 움직임 */
}